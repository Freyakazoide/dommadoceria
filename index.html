<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domma Doceria - Gestão Simples</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Domma Doceria</h1>
        <p>Seu assistente de gestão de doces</p>
    </header>

    <nav>
        <button data-target="tela-insumos">Insumos</button>
        <button data-target="tela-receitas">Receitas</button>
        <button data-target="tela-calculo">Calcular Preço</button>
        <button data-target="tela-vendas">Registrar Venda</button>
    </nav>

    <main>
<section id="tela-insumos" class="tela">
    <h2>Estoque de Insumos</h2>
    
    <form id="form-insumos">
        <h3>Adicionar Novo Insumo</h3>
        <input type="text" id="nome-insumo" placeholder="Nome do insumo (ex: Farinha de Trigo)" required>
        <input type="text" id="unidade-medida" placeholder="Unidade (ex: kg, g, unidade)" required>
        <input type="number" id="preco-unitario" placeholder="Preço unitário (ex: 4.50)" step="0.01" required>
        <button type="submit">Salvar Insumo</button>
    </form>

    <hr>

    <h3>Insumos Cadastrados</h3>
    <ul id="lista-insumos">
        <li>Carregando...</li>
    </ul>
</section>

<section id="tela-receitas" class="tela hidden">
    <h2>Minhas Receitas</h2>
    
    <form id="form-produtos">
        <h3>1. Cadastrar Novo Produto</h3>
        <input type="text" id="nome-produto" placeholder="Nome do produto (ex: Bolo de Cenoura)" required>
        <button type="submit">Salvar Produto</button>
    </form>

    <hr>

    <h3>2. Montar a Receita</h3>
    
    <label for="select-produto">Selecione o Produto:</label>
    <select id="select-produto">
        <option>Nenhum produto selecionado</option>
        </select>

    <form id="form-receita-item" class="hidden">
        <label for="select-insumo">Adicionar Insumo:</label>
        <select id="select-insumo" required>
            <option value="">Selecione o insumo...</option>
            </select>
        <input type="number" id="quantidade-insumo" placeholder="Quantidade" step="0.01" required>
        <button type="submit">Adicionar à Receita</button>
    </form>

    <h4>Ingredientes da Receita:</h4>
    <ul id="lista-receita-items">
        <li>Selecione um produto para ver sua receita.</li>
    </ul>
</section>

<section id="tela-calculo" class="tela hidden">
    <h2>Calculadora de Preços</h2>
    
    <label for="select-produto-calculo"><strong>1. Selecione o Produto:</strong></label>
    <select id="select-produto-calculo">
        <option value="">Selecione...</option>
        </select>
    <button id="btn-calcular-preco" style="margin-top: 10px;">Calcular Preço de Custo</button>

    <hr>

    <h3><strong>2. Resultado do Cálculo:</strong></h3>
    <div id="resultado-calculo">
        <p>Selecione um produto e clique em calcular.</p>
    </div>
</section>

<section id="tela-vendas" class="tela hidden">
    <h2>Registro de Vendas</h2>
    
    <form id="form-vendas">
        <h3>Adicionar Nova Venda</h3>
        <label for="select-produto-venda">Produto Vendido:</label>
        <select id="select-produto-venda" required>
            <option value="">Selecione o produto...</option>
            </select>
        
        <label for="quantidade-vendida">Quantidade:</label>
        <input type="number" id="quantidade-vendida" placeholder="Ex: 10" required>
        
        <label for="valor-total-venda">Valor Total (R$):</label>
        <input type="number" id="valor-total-venda" placeholder="Ex: 50.00" step="0.01" required>
        
        <button type="submit">Registrar Venda</button>
    </form>

    <hr>

    <h3>Últimas Vendas Registradas</h3>
    <ul id="lista-vendas">
        <li>Carregando...</li>
    </ul>
</section>
    </main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script src="script.js" defer></script>

</body>
</html>